{"ast":null,"code":"var _jsxFileName = \"/home/sobhan/Desktop/reacttest/src/fetching.js\";\nimport React from \"react\";\nimport Displaying from './displaying';\nimport Switching from './switching';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Fetching extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      actors: '',\n      sensors: '',\n      loading: true\n    };\n  }\n\n  async componentDidMount() {\n    const apiUrl1 = 'http://webswitch.ir:3000/actors';\n    const response = await fetch(apiUrl1);\n    const data1 = await response.json();\n    this.setState({\n      actors: data1.actors\n    });\n    console.log(this.state.actors);\n    const apiUrl2 = 'http://webswitch.ir:3000/sensors';\n    const response2 = await fetch(apiUrl2);\n    const data2 = await response2.json();\n    this.setState({\n      sensors: data2.sensors,\n      loading: false\n    });\n  }\n\n  render() {\n    if (this.state.loading) {\n      console.log(2);\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"loading ....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }, this);\n    }\n\n    ;\n\n    if (this.state.sensors) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Percentage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.sensors.map((sensor, i) => /*#__PURE__*/_jsxDEV(Displaying, {\n              sensor: sensor\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 63\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Switch\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.actors.map((actor, i) => /*#__PURE__*/_jsxDEV(Switching, {\n              actor: actor\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 61\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }, this);\n    }\n\n    ;\n  }\n\n}","map":{"version":3,"sources":["/home/sobhan/Desktop/reacttest/src/fetching.js"],"names":["React","Displaying","Switching","Fetching","Component","state","actors","sensors","loading","componentDidMount","apiUrl1","response","fetch","data1","json","setState","console","log","apiUrl2","response2","data2","render","map","sensor","i","actor"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Displaying from './displaying'\nimport Switching from './switching'\n\nexport default class Fetching extends React.Component{\n    state={\n        actors:'',\n        sensors:'',\n        loading:true,\n    }\n    async componentDidMount(){\n        const apiUrl1 = 'http://webswitch.ir:3000/actors';\n        const response = await fetch(apiUrl1);\n        const data1 = await response.json();\n        this.setState({actors:data1.actors})\n        console.log(this.state.actors)\n\n        const apiUrl2 = 'http://webswitch.ir:3000/sensors';\n        const response2 = await fetch(apiUrl2);\n        const data2 = await response2.json();\n        this.setState({sensors:data2.sensors,\n                     loading: false})\n    };\n    render(){\n    if (this.state.loading){\n        console.log(2);\n        return(\n            <h1>loading ....</h1>\n        )};\n    if (this.state.sensors) {\n        return(\n            <div>\n                <table className=\"table table-striped\">\n                <thead>\n                    <tr>\n                    <th scope=\"col\">#</th>\n                    <th scope=\"col\">Name</th>\n                    <th scope=\"col\">Percentage</th>\n                    </tr>\n                </thead>\n                <tbody>\n                        {this.state.sensors.map((sensor,i) => <Displaying key={i} sensor={sensor}/>)}\n                 </tbody>\n                 </table>\n                 <table className=\"table table-striped\">\n                <thead>\n                    <tr>\n                    <th scope=\"col\">#</th>\n                    <th scope=\"col\">Name</th>\n                    <th scope=\"col\">Switch</th>\n                    </tr>\n                </thead>\n                <tbody>\n                        {this.state.actors.map((actor,i) => <Switching key={i} actor={actor}/>)}\n                 </tbody>\n                 </table>\n            </div>\n        )\n\n    };\n}\n}\n"]},"metadata":{},"sourceType":"module"}